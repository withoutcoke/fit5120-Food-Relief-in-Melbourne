!function(){"use strict";var a,r,u,d,t,e={animate:!0,layout:"justified",filter:"*",filterControls:"",autoConsiderScrollBars:!0,onBeforeOptionsChanged:function(){},onOptionsChanged:function(){},onBeforeRender:function(){},onRender:function(){},autoInitOnDomReady:!0,autoInitOnDomMutation:!0,autoSyncChildListMutation:!0,useOptionAttributes:!0,autoSyncAttributesMutation:!0,autoSyncChildClassMutation:!0},i={},n=null,l=0,h=null,m={isTruly:function(t){return!!t&&("string"!=typeof t||"false"!==t.toLowerCase())},expectArray:function(t){return m.isArrayLike(t)?t:[t]},isArrayLike:function(t){return t.length===+t.length&&"string"!=typeof t},inArray:function(t,e){return-1!==t.indexOf(e)},objectWalk:function(t,e){var i;if(e(t),"object"==typeof t)for(i in t)m.objectWalk(t[i],e)},objectAssign:function(t){var e,i;for(e=1;e<arguments.length;e++)for(i in arguments[e])t[i]=arguments[e][i];return t},optionsMerge:function(t,e){var i;for(i in e)void 0!==t[i]&&(t[i]=e[i]);return t},isValidCssSelector:function(t){var e=!1;if("string"==typeof t)try{m.matches(document.body,t),e=!0}catch(t){}return e},matches:Element.prototype.matches?function(t,e){return t.matches(e)}:Element.prototype.msMatchesSelector?function(t,e){return t.msMatchesSelector(e)}:Element.prototype.webkitMatchesSelector?function(t,e){return t.webkitMatchesSelector(e)}:function(t,e){for(var i=(t.document||t.ownerDocument).querySelectorAll(e),n=i.length;0<=--n&&i.item(n)!==t;);return-1<n},changeMultipleClassNames:(t=document.createElement("div").classList,t.add("a","b"),t.contains("b")?function(t,e,i){t.classList[e?"add":"remove"].apply(t.classList,i)}:function(t,e,i){for(var n=i.length,s=e?"add":"remove",l=n;l--;)t.classList[s](i[n-l-1])}),eventListener:(d=[],{add:function(e,i,n,s,l,o,t){d.push([e,i,n,s,l,o]),n.addEventListener(s,t?function(t){return m.eventListener.remove(e,i,n,s,l,o),l(t)}:l,o)},remove:function(t,e,i,n,s,l){for(var o,a=d.length;a--;)o=d[a],void 0!==t&&t!==o[0]||void 0!==e&&e!==o[1]||void 0!==i&&i!==o[2]||void 0!==n&&n!==o[3]||void 0!==s&&s!==o[4]||void 0!==l&&l!==o[5]||(o[2].removeEventListener(o[3],o[4],o[5]),d.splice(a,1))}}),expectNaturalImageSize:(u=[],r=function(){var t;for(t=0;t<u.length;t++)(u[t].img.naturalWidth&&u[t].img.naturalHeight||u[t].ready)&&(u[t].callback(u[t].img,!u[t].error),u.splice(t,1),t--);u.length||(clearInterval(a),a=null)},function(t,e,i,n){var s={img:i,callback:n||function(){},imgB:document.createElement("img"),ready:!1,error:!1},l=function(){s.ready=!0,m.eventListener.remove(t,e,s.imgB,"error",o,!1)},o=function(){s.ready=!0,s.error=!0,m.eventListener.remove(t,e,s.imgB,"load",l,!1)};m.eventListener.add(t,e,s.imgB,"load",l,!1,!0),m.eventListener.add(t,e,s.imgB,"error",o,!1,!0),s.imgB.src=s.img.src,u.push(s),a||(a=setInterval(r,0))}),processLazyLoading:function(){if(null!==h){g();for(var t,e,i,n=h.length,s=Math.max(document.documentElement.clientWidth,window.innerWidth||0),l=Math.max(document.documentElement.clientHeight,window.innerHeight||0),o=[];n--;)e=(t=h[n].image.getBoundingClientRect()).right/(s+(t.right-t.left)),i=t.bottom/(l+(t.bottom-t.top)),-.5<e&&e<1.5&&-.5<i&&i<1.5&&o.push(h.splice(n,1)[0]);for(n=0;n<o.length;n++)o[n].item.contentElement.classList.add("jgalleryItemLoading"),o[n].src&&(o[n].image.src=o[n].src),o[n].srcset&&(o[n].image.srcset=o[n].srcset)}},registerReadOnlyObjectParameters:function(t,e){var i;for(i in e)Object.defineProperty(t,i,{value:e[i],enumerable:!0})},completeDefaultOptionsObject:function(){n!==Jgallery._defaultOptions.layout&&void 0!==Jgallery._layouts[Jgallery._defaultOptions.layout]&&(Jgallery._defaultOptions=m.optionsMerge(m.cloneDefaultOptionsTemplate(Jgallery._defaultOptions.layout),Jgallery._defaultOptions),n=Jgallery._defaultOptions.layout)},cloneDefaultOptionsTemplate:function(t){return void 0===i[t]&&void 0!==Jgallery._layouts[t]&&(i[t]=m.objectAssign({},Jgallery._layouts[t]._defaultOptions,e)),void 0!==i[t]?m.objectAssign({},i[t]):{}}},c=!0;function g(){c&&(c=!1,setTimeout(function(){c=!0},0))}var s=new function(){var e=!1,i=new MutationObserver(function(){c&&p()});this.reset=function(){var t=Jgallery._defaultOptions.autoInitOnDomMutation;e!==!!t&&(t?(p(),i.observe(document.body,{attributes:!0,attributeFilter:["class"],subtree:!0,childList:!0})):i.disconnect(),e=!!t)}};function y(t){var e=getComputedStyle(t.element),i={actualBox:null,borderBox:{width:t.element.offsetWidth,height:t.element.offsetHeight},paddingBox:{width:t.element.clientWidth,height:t.element.clientHeight},contentBox:null,border:{top:parseInt(e.borderTopWidth),right:parseInt(e.borderRightWidth),bottom:parseInt(e.borderBottomWidth),left:parseInt(e.borderLeftWidth)},padding:{top:parseInt(e.paddingTop),right:parseInt(e.paddingRight),bottom:parseInt(e.paddingBottom),left:parseInt(e.paddingLeft)}};i.contentBox={width:i.paddingBox.width-i.padding.left-i.padding.right,height:i.paddingBox.height-i.padding.top-i.padding.bottom},i.actualBox="border-box"===e.boxSizing?i.borderBox:i.contentBox,m.registerReadOnlyObjectParameters(this,{jgalleryInstance:t,dimensions:i,items:[],layoutStorage:t._layoutStorage}),this.styleToApply="";for(var n=t._allItems.length;n--;)this.items.unshift(new o(t._allItems[n]))}function o(t){m.registerReadOnlyObjectParameters(this,{element:t.contentElement,valid:t.valid,imageError:t.failures,matchFilter:t.matchFilter,width:t.size[0],height:t.size[1],aspectRatio:t.ratio,layoutStorage:t.layoutStorage}),this.visible=t.visible,this.styleToApply=""}function p(){for(var t=document.getElementsByClassName("jgallery"),e=t.length;e--;)void 0===t[e].jgallery&&new Jgallery(t[e])}window.JgalleryLayout=function(t){"string"==typeof t.name&&void 0===Jgallery._layouts[t.name]&&(this.name=t.name,this._defaultOptions=t&&"object"==typeof t.options?t.options:{},this._handler=t&&"function"==typeof t.handler?t.handler:function(){},Jgallery._layouts[t.name]=this)},JgalleryLayout.prototype={constructor:JgalleryLayout,set handler(t){},get handler(){return this._handler}},window.Jgallery=function(t,e){var i,n=void 0===t.jgallery,o=n?this:t.jgallery,s=0;if(e=e||{},o._options=Jgallery.getDefaultOptions(),m.objectAssign({},o._options,e).useOptionAttributes&&(e=m.objectAssign({},o._getOptionParametersFromElement(t),e)),n){for(i in t.jgallery=o,m.registerReadOnlyObjectParameters(o,{element:t,id:++l,version:"1.0.1",_allItems:[],_layoutStorage:{},_filterControls:[],_itemVisibilityClasses:{null_true:{add:["jgalleryItemInitialToVisible"],remove:[]},null_false:{add:["jgalleryItemHidden"],remove:[]},false_true:{add:["jgalleryItemHiddenToVisible"],remove:[]},true_false:{add:["jgalleryItemVisibleToHidden"],remove:[]},true_true:{add:["jgalleryItemVisibleToVisible"],remove:[]},true:{add:["jgalleryItemVisible"],remove:[]},false:{add:["jgalleryItemHidden"],remove:[]},null:{add:[],remove:[]}},_itemVisibilityClassesArray:[],_insertQueue:{maxQueueTime:1e3,maxQuietTime:400,items:[],lastProcess:null,timer:null},_elementMutationObserverConfig:{attributes:!1,childList:!1},_elementMutationObserver:new MutationObserver(function(t){if(c){var i={},n=!1,s=!1,l=!1;t.forEach(function(t){switch(t.type){case"attributes":if("class"===t.attributeName&&o._options.useOptionAttributes)o._options.animate!==t.target.classList.contains("jgalleryAnimated")&&void 0===i.animate&&(i.animate=!o._options.animate,n=!0);else if("style"===t.attributeName)s=!0;else if(0===t.attributeName.indexOf("data-jgallery-")&&o._options.useOptionAttributes){var e=o._getOptionParametersFromElement(null,null,t.attributeName);i[e.name]=e.value,n=!0}break;case"childList":s=l=!0}}),l&&o._syncElements(),n?o.setOptions(i):s&&o.render()}}),_childMutationObserverConfig:{attributes:!1,attributeFilter:["class"]},_childMutationObserver:new MutationObserver(function(t){if(c){var e=o._options.filter,i=!1;t.forEach(function(t){switch(t.type){case"attributes":void 0!==t.target.jgalleryItem&&o._setMatchFilter(t.target.jgalleryItem,e)&&(i=!0)}}),i&&o.render()}})}),o._itemIdAutoIncrement=0,m.objectWalk(o._itemVisibilityClasses,function(t){"string"==typeof t&&-1===o._itemVisibilityClassesArray.indexOf(t)&&o._itemVisibilityClassesArray.push(t)}),o._itemVisibilityClasses)o._itemVisibilityClasses[i].remove=o._itemVisibilityClassesArray.filter(function(t){return o._itemVisibilityClasses[i].add.indexOf(t)<0});o._updateOptionParameters(e),g(),o.element.setAttribute("data-jgalleryid",o.id),o.element.setAttribute("data-jgalleryversion",o.version),m.eventListener.add(o,null,o.element,"animationend",function(t){t.target.jgalleryItem&&(g(),m.changeMultipleClassNames(t.target,!0,o._itemVisibilityClasses[JSON.stringify(t.target.jgalleryItem.visible)].add),m.changeMultipleClassNames(t.target,!1,o._itemVisibilityClasses[JSON.stringify(t.target.jgalleryItem.visible)].remove))}),o._syncElements(),s=o.element.clientWidth,m.eventListener.add(o,null,window,"resize",function(){o.element.clientWidth!==s&&(s=o.element.clientWidth,o.render())},!1),m.eventListener.add(o,null,document,"touchstart",function(){},!0)}else o.setOptions(e);return o},Jgallery._layouts={},Jgallery._defaultOptions=m.objectAssign({},e),Jgallery.setDefaultOptions=function(t){void 0!==t.layout&&Jgallery._defaultOptions.layout!==t.layout&&void 0!==Jgallery._layouts[t.layout]&&(Jgallery._defaultOptions.layout=t.layout),m.completeDefaultOptionsObject(),Jgallery._defaultOptions=m.optionsMerge(Jgallery._defaultOptions,t),s.reset()},Jgallery.getDefaultOptions=function(t){return t&&t!==Jgallery._defaultOptions.layout&&"undefiend"!=typeof Jgallery._layouts[t]?m.optionsMerge(m.cloneDefaultOptionsTemplate(t),Jgallery._defaultOptions):(m.completeDefaultOptionsObject(),m.objectAssign({},Jgallery._defaultOptions))},Jgallery.getDefaultOption=function(t){return m.completeDefaultOptionsObject(),void 0!==Jgallery._defaultOptions[t]?Jgallery._defaultOptions[t]:null},Jgallery.prototype={IMG_FAILURE:0,IMG_LOADING:1,IMG_LOADING_READY:2,IMG_READY:3,IMG_FINISHED:4,ITEM_REGISTERED:1,ITEM_INSERT_QUEUE:2,ITEM_INSERTED:3,setOptions:function(t){this._updateOptionParameters(t),this.render(),m.processLazyLoading()},getOptions:function(){return m.objectAssign({},this._options)},getOption:function(t){return void 0!==this._options[t]?this._options[t]:null},syncAttributes:function(){this._options.useOptionAttributes&&this.setOptions(this._getOptionParametersFromElement())},syncChild:function(t){this._syncElements(t),this.render()},syncChildList:function(){this._syncElements(),this.render()},destroy:function(){var t;m.eventListener.remove(this),t=this._allItems.splice(0,this._allItems.length),delete this.element.jgallery,g(),this.element.setAttribute("style","transition: none; animation: none; "),this._resetItemsDOM(t),this.element.removeAttribute("data-jgalleryid"),this.element.removeAttribute("data-jgalleryversion"),this.element.removeAttribute("style"),document.body.offsetWidth},render:function(){var t,e,i,n=this._getRenderObject(),s=this._options.filter;for(this._options.onBeforeRender(this),g(),t=n.items.length;t--;)(e=n.items[t]).valid&&!e.element.jgalleryItem.visible&&(e.element.style.cssText=e.element.style.cssText+"; "+e.styleToApply+"; transition: none; ");for(document.body.offsetWidth,n.jgalleryInstance.element.style.cssText=n.jgalleryInstance.element.style.cssText+"; "+n.styleToApply,t=n.items.length;t--;)(e=n.items[t]).valid&&(e.element.jgalleryItem.visible?e.element.style.cssText=e.element.style.cssText+"; "+e.styleToApply:e.element.style.transition="",(i=this._itemVisibilityClasses[JSON.stringify(e.element.jgalleryItem.visible)+"_"+JSON.stringify(e.visible)])&&(m.changeMultipleClassNames(e.element,!0,i.add||[]),m.changeMultipleClassNames(e.element,!1,i.remove||[])),e.element.jgalleryItem.visible=e.visible);for(t=n.items.length;t--;)(e=n.items[t]).valid&&(this._setMatchFilter(e.element.jgalleryItem,s),"none"===getComputedStyle(e.element).animationName&&(i=this._itemVisibilityClasses[JSON.stringify(e.visible)],m.changeMultipleClassNames(e.element,!0,i.add||[]),m.changeMultipleClassNames(e.element,!1,i.remove||[])));this._options.onRender(this)},_resetElementMutationObserver:function(){var t,e=this._elementMutationObserverConfig,i=!1,n=e.attributes||e.childList;e.attributes!==this._options.autoSyncAttributesMutation&&(e.attributes=!e.attributes,i=!0),e.childList!==this._options.autoSyncChildListMutation&&(e.childList=!e.childList,i=!0),t=e.attributes||e.childList,i&&(n&&this._elementMutationObserver.disconnect(),t&&this._elementMutationObserver.observe(this.element,m.objectAssign({},e)))},_resetChildMutationObserver:function(t){var e,i,n,s,l,o=this._childMutationObserverConfig,a=!1,r=o.attributes,u=!1;if(o.attributes!==this._options.autoSyncChildClassMutation&&(o.attributes=!o.attributes,a=!0),i=o.attributes,(a||t)&&(r&&this._childMutationObserver.disconnect(),i))for(e=m.objectAssign({},o),s=this._options.filter,l=this._allItems.length;l--;)n=this._allItems[l],this._childMutationObserver.observe(n.contentElement,e),this._setMatchFilter(n,s)&&(u=!0);u&&this.render()},_setMatchFilter:function(t,e){if(t.status===this.ITEM_INSERTED){var i=m.matches(t.contentElement,e);if(i!==t.matchFilter)return t.matchFilter=i,!0}return!1},_filterControlEventHandler:function(t){var e,i,n=this._filterControls.length,s=[],l=t.target;for("OPTION"===l.nodeName&&(l=l.parentNode);n--;)if(l===(i=this._filterControls[n]))if("SELECT"===i.nodeName)for(e=i.options.length;e--;)i.options[e].selected&&(s=s.concat(i.options[e].value));else(i.checked||"checkbox"!==i.type)&&(s=s.concat(i.value));else if(i.checked)"checkbox"===l.type&&"checkbox"===i.type?s=s.concat(i.value):i.checked=!1;else if("SELECT"===i.nodeName)for(e=i.options.length;e--;)i.options[e].selected=!1;this.setOptions({filter:s.join(", ")||":not(*)"})},_getRenderObject:function(){var t,e=this._options.autoConsiderScrollBars,i=new y(this),n=!1,s=i.jgalleryInstance.element,l=null,o=null,a=i.jgalleryInstance.element.offsetWidth,r=i.jgalleryInstance.element.style.position,u=i.jgalleryInstance.element.style.cssText,d=!1;if(this._prepareRenderObject(i),e){for(;s.parentNode&&"#document"!==s.parentNode.nodeName;)if(s=s.parentNode,"auto"===(l=getComputedStyle(s).overflowY)||"BODY"===s.nodeName&&"visible"===l){d=!0,(o="BODY"===s.nodeName?Math.max(document.documentElement.clientHeight,window.innerHeight||0):s.offsetHeight)<i.jgalleryInstance.element.offsetHeight&&o<(t=(t=i.styleToApply.match(/height:\s*([0-9]+)px;/))?parseInt(t[1]):null)&&(d=!1);break}d&&(i.jgalleryInstance.element.style.cssText=u+"; "+i.styleToApply+"; transition: none; animation: none; overflow: hidden; ",a!==i.jgalleryInstance.element.offsetWidth&&(i.jgalleryInstance.element.style.position=r,i=new y(this),n=!0),i.jgalleryInstance.element.style.cssText=u+"; transition: none; animation: none; ",document.body.offsetWidth,i.jgalleryInstance.element.style.cssText=u,document.body.offsetWidth,n&&this._prepareRenderObject(i))}return i},_prepareRenderObject:function(t){Jgallery._layouts[this._options.layout].handler(t),this.element.children.length&&this.element.children[0].offsetParent!==this.element&&(t.styleToApply+="; position: relative; "),"block"!==this.element.style.display&&(t.styleToApply+="; display: block; ")},_syncElements:function(t){var e,i,n=this.element.children,s=this.getOption("filter");for(e=this._allItems.length=0;e<n.length;e++)i=!1,void 0!==n[e].jgalleryItem?i=n[e].jgalleryItem:void 0!==t&&t!==n[e]||(i=this._createItem(n[e])),i&&(this._setMatchFilter(i,s),this._allItems.push(i));this._resetChildMutationObserver(!0)},_resetItemsDOM:function(t){var e,i;for(g(),e=t.length;e--;)(i=t[e]).contentElement.setAttribute("style","transition: none; animation: none; ");for(document.body.offsetWidth,e=t.length;e--;)delete(i=t[e]).contentElement.jgalleryItem,m.changeMultipleClassNames(i.contentElement,!1,this._itemVisibilityClassesArray.concat(["jgalleryItem","jgalleryItemLoading","jgalleryItemInitializing","jgalleryItemReady","jgalleryItemComplete"])),""===i.contentElement.className&&i.contentElement.removeAttribute("class"),i.contentElement.removeAttribute("style"),i.contentElement.removeAttribute("data-jgalleryitemid")},_createItem:function(t){0===this._insertQueue.items.length&&(this._insertQueue.lastProcess=(new Date).getTime()),g(),m.changeMultipleClassNames(t,!1,this._itemVisibilityClassesArray.concat(["jgalleryItem","jgalleryItemLoading","jgalleryItemInitializing","jgalleryItemReady","jgalleryItemComplete"]));var l={id:++this._itemIdAutoIncrement,contentElement:t,size:[0,0],ratio:0,failures:!1,status:this.ITEM_REGISTERED,images:[],imagesStatus:[],imagesInfo:[],matchFilter:null,layoutStorage:{},visible:null,destroy:function(){m.eventListener.remove(this,l),this._allItems.splice(this._allItems.indexOf(l),1),this._resetItemsDOM([l]),document.body.offsetWidth}.bind(this)};(t.jgalleryItem=l).contentElement.setAttribute("data-jgalleryitemid",l.id),l.contentElement.style.visibility="hidden",l.contentElement.style.position="absolute",m.changeMultipleClassNames(l.contentElement,!0,["jgalleryItem","jgalleryItemLoading","jgalleryItemInitializing"]);for(var e="IMG"===t.nodeName?[t]:t.querySelectorAll("img"),i=e.length;i--;)(function(t){l.images.push(t);var e=t.getAttribute("width"),i=t.getAttribute("height"),n=t.getAttribute("data-jgallerylazysrc"),s=t.getAttribute("data-jgallerylazysrcset");t.getAttribute("src")||!n&&!s||(e&&i?t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEHAAEALAAAAAABAAEAAAICTAEAOw==":(t.src=n,t.srcset=s,s=n=null)),l.imagesInfo.push({styleWidth:t.style.width,styleHeight:t.style.height,attributeWidth:e,attributeHeight:i,lazySrc:n,lazySrcset:s}),null!==e&&null!==i&&0<parseInt(e)&&0<parseInt(i)?l.imagesStatus.push(this.IMG_LOADING_READY):l.imagesStatus.push(this.IMG_LOADING)}).bind(this)(e[i]);return document.body.offsetWidth,l.images.forEach(function(i,n){var t=function(){l.imagesStatus[n]=i.naturalWidth?this.IMG_FINISHED:this.IMG_FAILURE,this._onImageFinished(l),m.eventListener.remove(this,l,i,"error",e,!1)}.bind(this),e=function(){l.imagesStatus[n]=this.IMG_FAILURE,this._onImageFinished(l),m.eventListener.remove(this,l,i,"load",t,!1)}.bind(this);m.eventListener.add(this,l,i,"load",t,!1,!0),m.eventListener.add(this,l,i,"error",e,!1,!0),i.complete&&t(),l.imagesInfo[n].lazySrc||l.imagesInfo[n].lazySrcset||m.expectNaturalImageSize(this,l,i,function(t,e){l.imagesStatus[n]=e&&i.naturalWidth?i.complete?this.IMG_FINISHED:this.IMG_READY:this.IMG_FAILURE,this._onImageReady(l)}.bind(this))}.bind(this)),this._onImageReady(l),this._onImageFinished(l),l},_processInsertQueue:function(t){var e,i,n,s,l,o,a=this._insertQueue.lastProcess<(new Date).getTime()-this._insertQueue.maxQueueTime,r=[],u=[],d=this._options.filter,h=[];if(null!==this._insertQueue.timer&&(clearTimeout(this._insertQueue.timer),this._insertQueue.timer=null),t||a){for(g(),e=this._insertQueue.items.shift();e;)u.push(e),e=this._insertQueue.items.shift();for(o=u.length;o--;)for(s=(e=u[o]).item.images.length;s--;)!(n=e.item.imagesInfo[s]).attributeWidth&&e.item.images[s].offsetWidth<40&&e.item.images[s].naturalWidth&&(n.attributeWidth=e.item.images[s].naturalWidth),!n.attributeHeight&&e.item.images[s].offsetHeight<40&&e.item.images[s].naturalHeight&&(n.attributeHeight=e.item.images[s].naturalHeight),(n.attributeWidth||n.attributeHeight)&&(l=getComputedStyle(e.item.images[s]),(parseInt(l.width)<40||"auto"===l.width||n.lazySrc||n.lazySrcset)&&n.attributeWidth&&!n.styleWidth&&r.push({image:e.item.images[s],definition:"width",value:n.attributeWidth+"px"}),(parseInt(l.height)<40||"auto"===l.height||n.lazySrc||n.lazySrcset)&&n.attributeHeight&&!n.styleHeight&&r.push({image:e.item.images[s],definition:"height",value:n.attributeHeight+"px"})),(n.lazySrc||n.lazySrcset)&&h.push({item:e.item,image:e.item.images[s],src:n.lazySrc,srcset:n.lazySrcset});for(i=r.length;i--;)r[i].image.style[r[i].definition]=r[i].value,r[i].image.style.display="none";for(document.body.offsetWidth,i=r.length;i--;)r[i].image.style.display="";for(o=u.length;o--;)(e=u[o]).item.size=[e.contentElement.offsetWidth,e.contentElement.offsetHeight],e.item.ratio=e.item.size[0]/e.item.size[1];for(i=r.length;i--;)r[i].image.style[r[i].definition]="";for(o=u.length;o--;)(e=u[o]).item.status=this.ITEM_INSERTED,e.item.valid=!(!e.item.size[0]||!e.item.size[1]),this._setMatchFilter(e.item,d),e.item.contentElement.classList.remove("jgalleryItemInitializing"),e.item.contentElement.classList.add("jgalleryItemReady");for(this.render(),o=u.length;o--;)(e=u[o]).item.contentElement.style.visibility="";h.length&&this._addImagesToLazyLoadQueue(h),this._insertQueue.lastProcess=(new Date).getTime()}else this._insertQueue.timer=setTimeout(function(){this._processInsertQueue(!0)}.bind(this),this._insertQueue.maxQuietTime)},_addImagesToLazyLoadQueue:function(t){null===h&&t.length&&(h=[],m.eventListener.add(this,null,window,"resize",m.processLazyLoading,!1),m.eventListener.add(this,null,window,"scroll",m.processLazyLoading,!0)),h=h.concat(t),m.processLazyLoading()},_addToInsertQueue:function(t,e){this._insertQueue.items.push({contentElement:t,item:e}),this._processInsertQueue(!1)},_onImageFinished:function(t){var e=t.failures;m.inArray(t.imagesStatus,this.IMG_LOADING)||m.inArray(t.imagesStatus,this.IMG_LOADING_READY)||m.inArray(t.imagesStatus,this.IMG_READY)||(g(),m.inArray(t.imagesStatus,this.IMG_FAILURE)&&(t.failures=!0),t.status===this.ITEM_INSERTED&&e!==t.failures&&this.render(),t.contentElement.classList.remove("jgalleryItemLoading"),t.contentElement.classList.add("jgalleryItemComplete"))},_onImageReady:function(t){var e=t.failures;t.failures=m.inArray(t.imagesStatus,this.IMG_FAILURE),t.status===this.ITEM_INSERTED&&e!==t.failures&&this.render(),t.status!==this.ITEM_REGISTERED||m.inArray(t.imagesStatus,this.IMG_LOADING)||(t.status=this.ITEM_INSERT_QUEUE,this._addToInsertQueue(t.contentElement,t))},_getOptionParametersFromElement:function(t,e,i){var n,s,l,o,a={},r={};for(s in t=t||this.element,e=e||t.getAttribute("data-jgallery-layout")||this._options.layout,l=t.attributes,n=Jgallery.getDefaultOptions(e))a[s.toLowerCase()]={name:s,value:n[s]};if(i)void 0!==a[s=i.substr(12).toLowerCase()]&&(r.name=a[s].name,r.value=void 0!==l[i]?l[i].value:null);else for(t.classList.contains("jgalleryAnimated")&&(r.animate=!0),o=l.length;o--;)"data-jgallery-"===l[o].name.substr(0,12)&&void 0!==a[s=l[o].name.substr(12).toLowerCase()]&&(r[a[s].name]=l[o].value);return r},_updateOptionParameters:function(t){var e,i,n,s,l,o,a,r,u=!1;if(t=t||{},this._options.onBeforeOptionsChanged(this),i=m.objectAssign({},this._options),"object"==typeof t.layout&&null===t.layout&&this._options.layout!==Jgallery._defaultOptions.layout&&(this._options.layout=Jgallery._defaultOptions.layout,u=!0),"string"==typeof t.layout&&"object"==typeof Jgallery._layouts[t.layout]&&Jgallery._layouts[t.layout].constructor===JgalleryLayout&&this._options.layout!==t.layout&&(this._options.layout=t.layout,u=!0),n=Jgallery.getDefaultOptions(this._options.layout),u){for(e in this._options)void 0===n[e]&&delete this._options[e];for(e in n)void 0===this._options[e]&&(this._options[e]=n[e]);if(this._options.useOptionAttributes)for(e in s=this._getOptionParametersFromElement(null,this._options.layout))void 0!==n[e]&&void 0===t[e]&&this._options[e]!==s[e]&&(t[e]=s[e])}for(e in n)if(void 0!==t[e]&&null!==t[e])switch(typeof n[e]){case"boolean":this._options[e]=m.isTruly(t[e]);break;case"number":this._options[e]=+t[e];break;default:this._options[e]=t[e]}for(e in"string"==typeof t.filter&&this._options.filter!==t.filter&&m.isValidCssSelector(t.filter)&&(this._options.filter=t.filter),"string"!=typeof t.filterControls||""!==t.filterControls&&!m.isValidCssSelector(t.filterControls)||(this._options.filterControls=t.filterControls),void 0!==t.animate&&null!==t.animate&&(this._options.animate=m.isTruly(t.animate)),void 0!==t.autoConsiderScrollBars&&null!==t.autoConsiderScrollBars&&(this._options.autoConsiderScrollBars=m.isTruly(t.autoConsiderScrollBars)),"function"==typeof t.onBeforeOptionsChanged&&(this._options.onBeforeOptionsChanged=t.onBeforeOptionsChanged),"function"==typeof t.onOptionsChanged&&(this._options.onOptionsChanged=t.onOptionsChanged),"function"==typeof t.onBeforeRender&&(this._options.onBeforeRender=t.onBeforeRender),"function"==typeof t.onRender&&(this._options.onRender=t.onRender),void 0!==t.autoSyncChildListMutation&&null!==t.autoSyncChildListMutation&&(this._options.autoSyncChildListMutation=m.isTruly(t.autoSyncChildListMutation)),void 0!==t.autoSyncAttributesMutation&&null!==t.autoSyncAttributesMutation&&(this._options.autoSyncAttributesMutation=m.isTruly(t.autoSyncAttributesMutation)),void 0!==t.autoSyncChildClassMutation&&null!==t.autoSyncChildClassMutation&&(this._options.autoSyncChildClassMutation=m.isTruly(t.autoSyncChildClassMutation)),t)null===t[e]&&void 0!==n[e]&&(this._options[e]=n[e]);if(i.filter!==this._options.filter)for(l=this._allItems.length;l--;)this._setMatchFilter(this._allItems[l],this._options.filter);if(i.filterControls!==this._options.filterControls||this._options.filterControls&&0===this._filterControls.length){for(a=[].slice.call(this._options.filterControls?document.querySelectorAll(this._options.filterControls):[]),l=this._filterControls.length;l--;)if(!m.inArray(a,this._filterControls[l])){switch(this._filterControls[l].nodeName+this._filterControls[l].type){case"SELECT":case"INPUTcheckbox":case"INPUTradio":m.eventListener.remove(this,null,this._filterControls[l],"change",this._filterControls[l].jgalleryFilterControlHandler);break;case"INPUTbutton":case"INPUTsubmit":case"BUTTONbutton":case"BUTTONsubmit":case"BUTTONreset":m.eventListener.remove(this,null,this._filterControls[l],"click",this._filterControls[l].jgalleryFilterControlHandler);break;default:m.eventListener.remove(this,null,this._filterControls[l],"input",this._filterControls[l].jgalleryFilterControlHandler)}this._filterControls.splice(l,1)}for(l=a.length;l--;)if(!m.inArray(this._filterControls,a[l])){switch(a[l].jgalleryFilterControlHandler=this._filterControlEventHandler.bind(this),a[l].nodeName+a[l].type){case"SELECT":case"INPUTcheckbox":case"INPUTradio":m.eventListener.add(this,null,a[l],"change",a[l].jgalleryFilterControlHandler);break;case"INPUTbutton":case"INPUTsubmit":case"BUTTONbutton":case"BUTTONsubmit":case"BUTTONreset":m.eventListener.add(this,null,a[l],"click",a[l].jgalleryFilterControlHandler);break;default:m.eventListener.add(this,null,a[l],"input",a[l].jgalleryFilterControlHandler)}this._filterControls.push(a[l])}}if(g(),this._resetElementMutationObserver(),this.element.classList[this._options.animate?"add":"remove"]("jgalleryAnimated"),this._options.useOptionAttributes)for(e in this._options)if(r="data-jgallery-"+e.toLowerCase(),o=this._options[e],void 0!==t[e]&&null===t[e]&&this.element.hasAttribute(r))this.element.removeAttribute(r);else if(n[e]!==this._options[e]||this.element.hasAttribute(r)){switch(typeof o){case"boolean":o=o?"true":"false";break;case"number":o+=""}"string"==typeof o&&this.element.setAttribute(r,o)}this._resetChildMutationObserver(),this._options.onOptionsChanged(this)}},m.eventListener.add(null,null,document,"DOMContentLoaded",function(){Jgallery._defaultOptions.autoInitOnDomReady&&p(),s.reset()},!1,!0),"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.jgallery=function(t){return this.each(function(){jQuery(this).data("jgallery",new Jgallery(this,t))})})}(),new JgalleryLayout({name:"justified",options:{autoFontSize:!1,desiredHeight:190,hideOnMissingImage:!0,spaceBetween:4,fillLastRow:!0,fillSingleRow:!0},handler:function(t){var e,i,n,s,l,o,a,r,u,d,h,m=!!t.jgalleryInstance.getOption("autoFontSize"),c=parseInt(t.jgalleryInstance.getOption("desiredHeight")),g=!!t.jgalleryInstance.getOption("hideOnMissingImage"),y=parseInt(t.jgalleryInstance.getOption("spaceBetween")),p=!!t.jgalleryInstance.getOption("fillLastRow"),f=!!t.jgalleryInstance.getOption("fillSingleRow"),_=t.items,b=[],v=[],I=t.dimensions.contentBox.width,O=0,A=0,j=[],C=0,S=0;for(e=_.length;e--;)!(s=_[e]).valid||!s.matchFilter||g&&s.imageError?v.unshift(s):(b.unshift(s),s.optWidth=c*s.width/s.height,O+=s.optWidth);for(n=b.length,l=p?O/(Math.round((O+y*n)/(I+y))||1):I,e=n;e--;)s=b[n-1-e],(void 0===a||A+s.optWidth/2>l*j.length)&&j.push(a={displaySizeY:0,displayPosY:0,ratioAll:0,optWidth:0,items:[]}),A+=s.optWidth,a.optWidth+=s.optWidth,a.ratioAll+=s.aspectRatio,a.items.push(s);for(t.height=0,o=j.length,u=null,e=0;e<o;e++){for(S=C=0,d=I-((r=(a=j[e]).items.length)-1)*y,h=1===o&&f||1<o&&p||e<o-1||a.optWidth>=d,i=0;i<r;i++)(s=a.items[i]).displayPosX=C+i*y,s.displaySizeX=h?Math.round(s.aspectRatio/a.ratioAll*d):Math.round(s.optWidth),C+=s.displaySizeX,h&&i===r-1&&C!==d&&(s.displaySizeX+=d-C),S+=s.displaySizeX/s.aspectRatio;for(a.displaySizeY=Math.round(S/r),a.displayPosY=u?u.displayPosY+u.displaySizeY+y:0,i=0;i<r;i++)(s=a.items[i]).displaySizeY=a.displaySizeY,s.displayPosY=a.displayPosY,s.visible=!0,s.styleToApply="position: absolute; width: "+s.displaySizeX+"px; height: "+s.displaySizeY+"px; left: "+(t.dimensions.padding.left+s.displayPosX)+"px; top: "+(t.dimensions.padding.top+s.displayPosY)+"px; font-size: "+(m?100*s.displaySizeX/s.width+"%":"100%")+"; ";t.height+=a.displaySizeY+(e?y:0),u=a}for(t.styleToApply="height: "+(t.dimensions.actualBox.height-t.dimensions.contentBox.height+t.height)+"px; ",e=v.length;e--;)v[e].visible=!1}}),new JgalleryLayout({name:"masonry",options:{autoFontSize:!1,desiredWidth:250,hideOnMissingImage:!0,horizontalOrder:!1,spaceBetween:4},handler:function(t){var e,i,n,s,l,o,a,r,u=!!t.jgalleryInstance.getOption("autoFontSize"),d=parseInt(t.jgalleryInstance.getOption("desiredWidth")),h=!!t.jgalleryInstance.getOption("hideOnMissingImage"),m=!!t.jgalleryInstance.getOption("horizontalOrder"),c=parseInt(t.jgalleryInstance.getOption("spaceBetween")),g=0,y=[],p=0,f=t.items,_=[],b=[],v=t.dimensions.contentBox.width;for(l=f.length;l--;)!(r=f[l]).valid||!r.matchFilter||h&&r.imageError?b.push(r):_.push(r);for(i=v-((e=(a=_.length)<(e=Math.round((v+c)/(d+c))||1)?a:e)-1)*c,l=e;l--;)g+=n=i-Math.round(i*l/e)-g,y.push({index:y.length,width:n,left:i-g+l*c,height:0});for(l=a;l--;){if(m)s=y[s&&0<s.index?s.index-1:e-1];else for(s=y[o=e-1];o--;)y[o].height<s.height-2&&(s=y[o]);(r=_[l]).displaySizeX=s.width,r.displaySizeY=Math.round(r.displaySizeX/r.width*r.height),r.displayPosX=s.left,r.displayPosY=s.height+(s.height?c:0),s.height+=r.displaySizeY+(s.height?c:0),p<s.height&&(p=s.height),r.visible=!0,r.styleToApply="position: absolute; width: "+r.displaySizeX+"px; height: "+r.displaySizeY+"px; left: "+(t.dimensions.padding.left+r.displayPosX)+"px; top: "+(t.dimensions.padding.top+r.displayPosY)+"px; font-size: "+(u?100*r.displaySizeX/r.width+"%":"100%")+"; "}for(t.styleToApply="height: "+(t.dimensions.actualBox.height-t.dimensions.contentBox.height+p)+"px; ",l=b.length;l--;)b[l].visible=!1}});